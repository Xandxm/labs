#include <iostream>
#include <cstdlib>
using namespace std;

// Функция для поиска индексов столбцов с нулевыми элементами
int* findZeroColumns(int** matrix, int rows, int cols, int& count) {
    count = 0;
    
    // Подсчет столбцов с нулями
    for (int j = 0; j < cols; j++) {
        for (int i = 0; i < rows; i++) {
            if (matrix[i][j] == 0) {
                count++;
                break;
            }
        }
    }
    
    if (count == 0) return nullptr;
    
    int* zeroCols = (int*)malloc(count * sizeof(int));
    int index = 0;
    
    // Запись индексов столбцов с нулями
    for (int j = 0; j < cols; j++) {
        for (int i = 0; i < rows; i++) {
            if (matrix[i][j] == 0) {
                zeroCols[index++] = j;
                break;
            }
        }
    }
    
    return zeroCols;
}

// Удаление столбцов по массиву индексов
void deleteColumns(int** &matrix, int &rows, int &cols, int* zeroCols, int zeroCount) {
    if (zeroCount == 0) return;

    int newCols = cols - zeroCount;
    int** newMatrix = (int**)malloc(rows * sizeof(int*));
    
    for (int i = 0; i < rows; i++) {
        newMatrix[i] = (int*)malloc(newCols * sizeof(int));
        int writeCol = 0;
        for (int j = 0; j < cols; j++) {
            bool remove = false;
            for (int k = 0; k < zeroCount; k++) {
                if (j == zeroCols[k]) { remove = true; break; }
            }
            if (!remove) {
                newMatrix[i][writeCol++] = matrix[i][j];
            }
        }
    }

    // Освобождение старой матрицы
    for (int i = 0; i < rows; i++) free(matrix[i]);
    free(matrix);

    matrix = newMatrix;
    cols = newCols;
}

int main() {
    setlocale(LC_ALL, "Russian");

    // Ввод исходной матрицы 2x2
    int** matrix = (int**)malloc(2 * sizeof(int*));
    for (int i = 0; i < 2; i++)
        matrix[i] = (int*)malloc(2 * sizeof(int));

    cout << "Введите элементы исходной матрицы 2x2:\n";
    for (int i = 0; i < 2; i++)
        for (int j = 0; j < 2; j++)
            cin >> matrix[i][j];

    // Ввод A и B с проверкой
    int A, B;
    do {
        cout << "Введите A (кол-во строк для добавления снизу): ";
        cin >> A;
    } while (A < 0);
    
    do {
        cout << "Введите B (кол-во столбцов для добавления справа): ";
        cin >> B;
    } while (B < 0);

    int C, D;
    cout << "Введите C и D: ";
    cin >> C >> D;

    int rows = 2 + A;
    int cols = 2 + B;

    // Расширяем массив
    matrix = (int**)realloc(matrix, rows * sizeof(int*));
    for (int i = 2; i < rows; i++)
        matrix[i] = (int*)calloc(cols, sizeof(int));
    
    // Расширяем каждый ряд до нужного количества столбцов
    for (int i = 0; i < rows; i++)
        matrix[i] = (int*)realloc(matrix[i], cols * sizeof(int));

    // Вставляем исходную матрицу в левый верхний угол
    // (уже там первые 2 строки и 2 столбца)
    
    // Заполняем новые столбцы и строки по формуле i*C + j*D
    // i = 0..A, j = 1..B для добавленных элементов
    for (int i = 0; i <= A; i++) {
        for (int j = 1; j <= B; j++) {
            matrix[i][j + 1] = i * C + j * D; // j+1 потому что первые 2 столбца исходные
        }
    }

    // Вывод матрицы после заполнения
    cout << "\nМатрица после заполнения:\n";
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++)
            cout << matrix[i][j] << "\t";
        cout << endl;
    }

    // Поиск столбцов с нулями
    int zeroCount;
    int* zeroCols = findZeroColumns(matrix, rows, cols, zeroCount);

    // Удаление столбцов с нулями
    deleteColumns(matrix, rows, cols, zeroCols, zeroCount);
    free(zeroCols);

    // Вывод итоговой матрицы
    cout << "\nМатрица после удаления столбцов с нулями:\n";
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++)
            cout << matrix[i][j] << "\t";
        cout << endl;
    }

    // Освобождение памяти
    for (int i = 0; i < rows; i++) free(matrix[i]);
    free(matrix);

    // Работа с указателями для двух вещественных чисел
    double a, b;
    cout << "\nВведите два вещественных числа a и b: ";
    cin >> a >> b;

    double* pa = &a;
    double* pb = &b;

    *pa *= 3; // Увеличиваем a в 3 раза

    // Меняем значения a и b через указатели
    double temp = *pa;
    *pa = *pb;
    *pb = temp;

    cout << "После операций:\n";
    cout << "a = " << a << ", b = " << b << endl;

    return 0;
}







#include <iostream>
#include <cstdlib>
using namespace std;

// Функция для поиска индексов строк с нулевыми элементами
int* findZeroRows(int** matrix, int rows, int cols, int& count) {
    count = 0;
    
    // Подсчет строк с нулями
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            if (matrix[i][j] == 0) {
                count++;
                break;
            }
        }
    }
    
    if (count == 0) return nullptr;
    
    int* zeroRows = (int*)malloc(count * sizeof(int));
    int index = 0;
    
    // Запись индексов строк с нулями
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            if (matrix[i][j] == 0) {
                zeroRows[index++] = i;
                break;
            }
        }
    }
    
    return zeroRows;
}

int main() {
    setlocale(LC_ALL, "Russian");

    // Создание матрицы 2x2
    int matrix = (int)malloc(2 * sizeof(int*));
    for (int i = 0; i < 2; i++) {
        matrix[i] = (int*)malloc(2 * sizeof(int));
    }
    
    cout << "Введите элементы матрицы 2x2:\n";
    for (int i = 0; i < 2; i++) {
        for (int j = 0; j < 2; j++) {
            cin >> matrix[i][j];
        }
    }
    
    // Ввод A и B с проверкой
    int A, B;
    do {
        cout << "Введите A (строк сверху): ";
        cin >> A;
    } while (A < 0);
    
    do {
        cout << "Введите B (столбцов слева): ";
        cin >> B;
    } while (B < 0);
    
    int C, D;
    cout << "Введите C и D: ";
    cin >> C >> D;
    
    // Расширение матрицы
    int rows = 2, cols = 2;
    
    // Добавляем строки сверху
    matrix = (int**)realloc(matrix, (rows + A) * sizeof(int*));
    for (int i = rows - 1; i >= 0; i--) {
        matrix[i + A] = matrix[i];
    }
    for (int i = 0; i < A; i++) {
        matrix[i] = (int*)malloc(cols * sizeof(int));
    }
    rows += A;
    
    // Добавляем столбцы слева
    for (int i = 0; i < rows; i++) {
        matrix[i] = (int*)realloc(matrix[i], (cols + B) * sizeof(int));
        for (int j = cols - 1; j >= 0; j--) {
            matrix[i][j + B] = matrix[i][j];
        }
    }
    cols += B;
    
    // Заполняем матрицу по формуле i*C + j*D
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            matrix[i][j] = i * C + j * D;
        }
    }
    
    cout << "\nМатрица после расширения:\n";
    for (int i = 0; i < rows; i++) {
        for (int j = 0; j < cols; j++) {
            cout << matrix[i][j] << "\t";
        }
        cout << endl;
    }
    
    // Поиск строк с нулями
    int zeroCount;
    int* zeroRows = findZeroRows(matrix, rows, cols, zeroCount);
    
    // Удаление строк с нулями 
    if (zeroCount > 0) {
        // Сдвигаем строки вверх перезаписывая строки с нулями
        int newIndex = 0;
        for (int i = 0; i < rows; i++) {
            bool isZeroRow = false;
            for (int j = 0; j < zeroCount; j++) {
                if (i == zeroRows[j]) {
                    isZeroRow = true;
                    break;
                }
            }
            
            if (!isZeroRow) {
                // Копируем строку на новую позицию
                if (newIndex != i) {
                    for (int j = 0; j < cols; j++) {
                        matrix[newIndex][j] = matrix[i][j];
                    }
                }
                newIndex++;
            }
        }
        
        // Освобождаем память удаленных строк 
        for (int i = rows - zeroCount; i < rows; i++) {
            free(matrix[i]);
        }
        
        // Изменяем размер массива указателей
        rows -= zeroCount;
        matrix = (int**)realloc(matrix, rows * sizeof(int*));
        
        free(zeroRows);
        
        cout << "\nМатрица после удаления строк с нулями:\n";